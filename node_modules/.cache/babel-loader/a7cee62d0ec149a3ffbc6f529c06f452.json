{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/RALPC-011/Desktop/scratch_admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/RALPC-011/Desktop/scratch_admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/RALPC-011/Desktop/scratch_admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\RALPC-011\\\\Desktop\\\\scratch_admin\\\\src\\\\Admin1\\\\AddList\\\\AddList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './addlist.css'; // Import your custom CSS file\n\nimport user from './user.png';\nimport { CButton } from '@coreui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar AddList = function AddList() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      postData1 = _useState2[0],\n      setPostData1 = _useState2[1];\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch('http://localhost:8000/getall', {\n                method: \"GET\",\n                headers: {\n                  \"Content-type\": \"application/json\"\n                }\n              });\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              data = _context.sent;\n              console.log(data);\n              setPostData1(data);\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              alert('An error occurred while fetching post data.');\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var i, apiUrl, res;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              i = 0;\n\n            case 2:\n              if (!(i < postData1.length)) {\n                _context2.next = 12;\n                break;\n              }\n\n              apiUrl = \"http://localhost:8000/deladmin1?user_id=\".concat(postData1[i].user_id);\n              _context2.next = 6;\n              return fetch(apiUrl, {\n                method: \"DELETE\",\n                credentials: 'include',\n                headers: {\n                  \"Content-type\": \"application/json\"\n                }\n              });\n\n            case 6:\n              res = _context2.sent;\n              console.log(postData1[i]);\n\n              if (res.ok) {\n                alert(\"Your post is deleted\");\n              } else {\n                alert(\"Your Post Is not Deleted\");\n              }\n\n            case 9:\n              i++;\n              _context2.next = 2;\n              break;\n\n            case 12:\n              _context2.next = 17;\n              break;\n\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 14]]);\n    }));\n\n    return function handleDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-details-container\",\n      children: postData1.map(function (post) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-details-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-profile\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [post.user_name, \" Profile\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Username:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 14\n                }, _this), \" \", post.user_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 14\n                }, _this), \" \", post.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 11\n              }, _this), post.profile_photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  height: \"15vh\"\n                },\n                src: \"http://localhost:8000/\".concat(post.profile_photo),\n                alt: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 13\n              }, _this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                alt: \"defaultPhoto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 14\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"addlistbtn\",\n                children: /*#__PURE__*/_jsxDEV(CButton, {\n                  color: \"danger\",\n                  size: \"lg\",\n                  onClick: function onClick() {\n                    handleDelete(post.user_id);\n                  },\n                  children: \" Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 12\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 9\n            }, _this)\n          }, post.user_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 5\n          }, _this)\n        }, void 0, false);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false);\n};\n\n_s(AddList, \"uZnb9DSVmNhruDXWk/mZQPwyfg0=\");\n\n_c = AddList;\nexport default AddList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddList\");","map":{"version":3,"names":["useEffect","useState","user","CButton","AddList","postData1","setPostData1","fetchData","fetch","method","headers","response","json","data","console","log","alert","handleDelete","i","length","apiUrl","user_id","credentials","res","ok","map","post","user_name","email","profile_photo","height"],"sources":["C:/Users/RALPC-011/Desktop/scratch_admin/src/Admin1/AddList/AddList.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport './addlist.css'; // Import your custom CSS file\r\nimport user from './user.png'\r\nimport { CButton } from '@coreui/react';\r\n\r\nconst AddList = () => {\r\n    const [postData1, setPostData1] = useState([]);\r\n\r\n      useEffect(() => {\r\n        fetchData();\r\n      }, []);\r\n    \r\n      const fetchData = async () => {\r\n        try {\r\n          const response = await fetch('http://localhost:8000/getall',  \r\n          {\r\n            method: \"GET\",\r\n          headers: {\r\n              \"Content-type\": \"application/json\"},\r\n\r\n              \r\n          });\r\n        \r\n        const data = await response.json();\r\n        console.log(data)\r\n        setPostData1(data);\r\n       \r\n\r\n        } catch (error) {\r\n          console.log(error);\r\n          alert('An error occurred while fetching post data.');\r\n        }\r\n      };\r\n      const handleDelete = async () => {\r\n\r\n        try {\r\n              for(let i=0;i<postData1.length;i++){\r\n            const apiUrl = `http://localhost:8000/deladmin1?user_id=${postData1[i].user_id}`;\r\n            const res = await fetch(apiUrl, {\r\n                method: \"DELETE\",\r\n                credentials: 'include',\r\n                headers: {\r\n                    \"Content-type\": \"application/json\"\r\n                }\r\n            });\r\n          console.log(postData1[i])\r\n            if (res.ok) {\r\n             \r\n                alert(\"Your post is deleted\");\r\n                \r\n            } else {\r\n                alert(\"Your Post Is not Deleted\");\r\n            }\r\n        }} catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n     \r\nreturn (\r\n   <>\r\n    <div className=\"user-details-container\">\r\n   {postData1.map((post)=>(\r\n    <>\r\n    <div className=\"user-details-form\" key={post.user_id}>\r\n        <div className=\"user-profile\">\r\n          <h3>{post.user_name} Profile</h3>\r\n          <p><strong>Username:</strong> {post.user_name}</p>\r\n          <p><strong>Email:</strong> {post.email}</p>\r\n      \r\n          {post.profile_photo ? (\r\n            <img style={{height:\"15vh\"}} src={`http://localhost:8000/${post.profile_photo}`} alt=\"Profile\" />\r\n          ):(<img src={user} alt='defaultPhoto'/>)}\r\n          <div className='addlistbtn'>\r\n           <CButton color=\"danger\"  size=\"lg\" onClick={() => {handleDelete(post.user_id)}}> Delete</CButton>\r\n        \r\n        </div>\r\n        </div>\r\n        \r\n    \r\n    </div>\r\n    </>\r\n\r\n\r\n   ))}\r\n   </div>\r\n\r\n{/* <CRow>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              Card title\r\n              <DocsLink name=\"CCard\"/>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n            <CCardFooter>Card footer</CCardFooter>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              Card with icon\r\n              <div className=\"card-header-actions\">\r\n                <CIcon name=\"cil-check\" className=\"float-right\"/>\r\n              </div>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat.Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              Card with switch\r\n              <div className=\"card-header-actions\">\r\n                <CSwitch className={'float-right mb-0'} color={'info'} defaultChecked size={'sm'} tabIndex=\"0\" />\r\n              </div>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              Card with label\r\n              <div className=\"card-header-actions\">\r\n                <CBadge color=\"success\" className=\"float-right\">Success</CBadge>\r\n              </div>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" md=\"4\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              Card with label\r\n              <div className=\"card-header-actions\">\r\n                <CBadge shape=\"pill\" color=\"danger\" className=\"float-right\">42</CBadge>\r\n              </div>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut\r\n              laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation\r\n              ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow> */}\r\n\r\n\r\n{/* <CRow sx={{ maxWidth: 345 }}>\r\n  <CCol>\r\n    <CCard>\r\n      <CMedia\r\n        sx={{ height: 140 }}\r\n        image={`http://localhost:8000/${currentUser.profile_photo}`}\r\n        title=\"green iguana\"\r\n      />\r\n      <CardHeader>\r\n        <CCardBody gutterBottom variant=\"h5\" component=\"div\">\r\n         {currentUser.user_name}\r\n        </Typography>\r\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n       <strong>Email :</strong> {currentUser.email}\r\n        </Typography>\r\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n         {currentUser.user_name}\r\n        </Typography>\r\n        <Typography gutterBottom  component=\"div\">\r\n        <h5 style={{color:\"red\"}}>About Me</h5> \r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n        \r\n          Lizards are a widespread group of squamate reptiles, with over 6,000\r\n          species, ranging across all continents except Antarctica\r\n        </Typography>\r\n      </CardHeader>\r\n      <CardActions>\r\n        <Button size=\"small\"><Link to=\"/login\">Login</Link></Button>\r\n        <Button size=\"small\" onClick={logout}>Logout</Button>\r\n      </CardActions>\r\n      </CCard>\r\n      </CCol>\r\n    </CRow> */}\r\n\r\n\r\n   \r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}